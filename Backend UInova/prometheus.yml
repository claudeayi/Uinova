global:
  scrape_interval: 15s         # frÃ©quence de collecte
  evaluation_interval: 15s     # frÃ©quence d'Ã©valuation des rÃ¨gles

scrape_configs:
  # ğŸš€ Scrape du backend UInova
  - job_name: "uinova-backend"
    metrics_path: /api/monitoring/prometheus
    static_configs:
      - targets: ["uinova-backend:5000"]
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: "uinova-backend"

  # ğŸ“Š Scrape de Prometheus lui-mÃªme
  - job_name: "prometheus"
    static_configs:
      - targets: ["prometheus:9090"]
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: "prometheus"

  # ğŸ—„ï¸ Scrape MySQL Exporter â†’ suivi DB UInova
  - job_name: "mysql"
    static_configs:
      - targets: ["mysqld-exporter:9104"]
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: "uinova-mysql"

  # ğŸ’» Scrape Node Exporter â†’ suivi systÃ¨me
  - job_name: "node"
    static_configs:
      - targets: ["node-exporter:9100"]
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: "uinova-host"
